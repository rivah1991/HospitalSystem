<div class="top-bar">
  <button mat-raised-button color="accent" (click)="goBack()">
    <mat-icon>arrow_back</mat-icon> Back to List
  </button>
</div>


<button mat-fab color="primary" (click)="openRecommendationModal()">
  <mat-icon>add</mat-icon>
</button>

<!-- Tableau des recommandations -->
<div class="recommendations-table">
    <mat-card class="mat-elevation-z4">
      <mat-card-title>Recommendations</mat-card-title>
      <mat-card-content>
        <table mat-table [dataSource]="recommendations">
          <ng-container matColumnDef="patientId">
            <th mat-header-cell *matHeaderCellDef> Patient ID </th>
            <td mat-cell *matCellDef="let recommendation"> {{ recommendation.patientId }} </td>
          </ng-container>
  
          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef> Type </th>
            <td mat-cell *matCellDef="let recommendation"> {{ recommendation.type }} </td>
          </ng-container>
  
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> Description </th>
            <td mat-cell *matCellDef="let recommendation"> {{ recommendation.description }} </td>
          </ng-container>
  
          <!-- <ng-container matColumnDef="statut">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let recommendation"> {{ recommendation.statut }} </td>
          </ng-container> -->

          <!-- <ng-container matColumnDef="statut">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let recommendation">
              <span (click)="openChangeStatusModal(recommendation)">
                {{ recommendation.statut }}
              </span>
            </td>
          </ng-container> -->

          <ng-container matColumnDef="statut">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let recommendation">
              <span 
                (click)="openChangeStatusModal(recommendation)" 
                [ngClass]="getStatusClass(recommendation.statut)">
                {{ recommendation.statut }}
              </span>
            </td>
          </ng-container>
          
  
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </mat-card-content>
    </mat-card>
  </div>
  